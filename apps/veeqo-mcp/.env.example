# Veeqo MCP Server Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# CORE CONFIGURATION
# =============================================================================

# Node.js environment (development, production, test)
NODE_ENV=development

# Server port (optional, for health checks and metrics)
PORT=3000

# =============================================================================
# VEEQO API CONFIGURATION
# =============================================================================

# Veeqo API Key (REQUIRED)
# Get your API key from: Settings > Users > [Your User] > API Key
# This is typically a long alphanumeric string
VEEQO_API_KEY=your_veeqo_api_key_here

# Veeqo API base URL (default: https://api.veeqo.com)
VEEQO_API_URL=https://api.veeqo.com

# Veeqo API timeout in milliseconds (default: 30000)
VEEQO_TIMEOUT=30000

# Number of retry attempts for failed requests (default: 3)
VEEQO_RETRY_ATTEMPTS=3

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Enable in-memory caching for API responses (default: false)
ENABLE_CACHE=true

# Redis connection string for distributed caching (optional)
REDIS_URL=redis://localhost:6379

# =============================================================================
# WEBHOOK CONFIGURATION
# =============================================================================

# Enable webhook support for real-time updates (default: false)
ENABLE_WEBHOOKS=true

# Webhook server port (required if webhooks enabled)
WEBHOOK_PORT=3001

# Webhook secret for signature verification (required if webhooks enabled)
# Generate a secure random string, at least 32 characters
WEBHOOK_SECRET=your_secure_webhook_secret_here_at_least_32_chars

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: error, warn, info, debug (default: info)
LOG_LEVEL=info

# Log file directory (default: ./logs)
LOG_DIR=./logs

# Maximum log file size in MB (default: 10)
LOG_MAX_SIZE=10

# Maximum number of log files to keep (default: 5)
LOG_MAX_FILES=5

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Maximum number of concurrent requests (default: 100)
MAX_CONCURRENT_REQUESTS=100

# Request rate limiting - requests per minute (default: 300 based on Veeqo limits)
RATE_LIMIT_PER_MINUTE=300

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Enable performance metrics collection (default: false)
ENABLE_METRICS=true

# Metrics collection interval in seconds (default: 60)
METRICS_INTERVAL=60

# Enable detailed request/response logging (default: false)
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Enable API key validation (default: true)
VALIDATE_API_KEY=true

# CORS allowed origins (comma-separated, default: *)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Maximum request body size in bytes (default: 10MB)
MAX_REQUEST_BODY_SIZE=10485760

# =============================================================================
# DATABASE CONFIGURATION (Optional)
# =============================================================================

# PostgreSQL database URL (optional, for storing webhook events and logs)
DATABASE_URL=postgresql://veeqo:password@localhost:5432/veeqo_mcp

# Database connection pool size (default: 10)
DB_POOL_SIZE=10

# Database connection timeout in milliseconds (default: 30000)
DB_TIMEOUT=30000

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Enable development mode features (default: false)
ENABLE_DEV_MODE=true

# Test API key for running tests
VEEQO_TEST_API_KEY=test_api_key_for_testing

# Mock API responses for testing (default: false)
MOCK_API_RESPONSES=false

# Test database URL
TEST_DATABASE_URL=postgresql://veeqo:password@localhost:5432/veeqo_mcp_test

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Grafana credentials (for monitoring)
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# PostgreSQL credentials
POSTGRES_PASSWORD=veeqo123

# Redis password (optional)
REDIS_PASSWORD=

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Application name for logging and monitoring
APP_NAME=veeqo-mcp-server

# Application version
APP_VERSION=1.0.0

# Deployment environment identifier
DEPLOYMENT_ENV=local

# Health check endpoint path (default: /health)
HEALTH_CHECK_PATH=/health

# Metrics endpoint path (default: /metrics)
METRICS_PATH=/metrics

# Webhook endpoint path (default: /webhook)
WEBHOOK_PATH=/webhook

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable experimental features (default: false)
ENABLE_EXPERIMENTAL_FEATURES=false

# Enable debug mode (default: false)
DEBUG_MODE=false

# Enable verbose logging (default: false)
VERBOSE_LOGGING=false

# Enable API response caching (default: true)
ENABLE_RESPONSE_CACHING=true

# Enable request/response compression (default: true)
ENABLE_COMPRESSION=true

# Enable inventory auto-sync (default: true)
ENABLE_INVENTORY_SYNC=true

# Enable order notifications (default: true)
ENABLE_ORDER_NOTIFICATIONS=true

# =============================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT ENVIRONMENTS
# =============================================================================

# Development Example:
# NODE_ENV=development
# VEEQO_API_KEY=your_development_api_key_here
# LOG_LEVEL=debug
# ENABLE_CACHE=false
# ENABLE_DEV_MODE=true
# ENABLE_WEBHOOKS=false

# Production Example:
# NODE_ENV=production
# VEEQO_API_KEY=your_production_api_key_here
# LOG_LEVEL=info
# ENABLE_CACHE=true
# ENABLE_METRICS=true
# VALIDATE_API_KEY=true
# ENABLE_WEBHOOKS=true
# WEBHOOK_SECRET=your_production_webhook_secret
# REDIS_URL=redis://your-redis-server:6379

# Testing Example:
# NODE_ENV=test
# VEEQO_API_KEY=test_api_key
# LOG_LEVEL=error
# MOCK_API_RESPONSES=true
# ENABLE_CACHE=false
# ENABLE_WEBHOOKS=false

# =============================================================================
# VEEQO-SPECIFIC SETTINGS
# =============================================================================

# Veeqo account-specific settings
VEEQO_ACCOUNT_ID=your_veeqo_account_id

# Default warehouse ID for inventory operations
DEFAULT_WAREHOUSE_ID=1

# Default channel ID for order creation
DEFAULT_CHANNEL_ID=1

# Supported countries (comma-separated ISO codes)
SUPPORTED_COUNTRIES=GB,US,CA,AU,DE,FR,IT,ES,NL

# Default currency for price calculations
DEFAULT_CURRENCY=GBP

# Inventory sync interval in seconds (default: 300 = 5 minutes)
INVENTORY_SYNC_INTERVAL=300

# Order sync interval in seconds (default: 60 = 1 minute)
ORDER_SYNC_INTERVAL=60

# Low stock threshold for alerts (default: 10)
LOW_STOCK_THRESHOLD=10

# =============================================================================
# INTEGRATION SETTINGS
# =============================================================================

# Enable third-party integrations
ENABLE_SHOPIFY_INTEGRATION=false
ENABLE_AMAZON_INTEGRATION=false
ENABLE_EBAY_INTEGRATION=false

# Integration API keys (if enabled)
SHOPIFY_API_KEY=
AMAZON_API_KEY=
EBAY_API_KEY=

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Enable automatic backups (default: false)
ENABLE_BACKUPS=false

# Backup interval in hours (default: 24)
BACKUP_INTERVAL=24

# Maximum number of backups to retain (default: 7)
MAX_BACKUPS=7

# Backup storage location
BACKUP_LOCATION=./backups

# =============================================================================
# NOTIFICATIONS
# =============================================================================

# Email notifications (optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
FROM_EMAIL=

# Slack notifications (optional)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#alerts

# Discord notifications (optional)
DISCORD_WEBHOOK_URL=

# =============================================================================
# NOTES
# =============================================================================

# 1. Never commit your actual .env file to version control
# 2. Use different API keys for development, testing, and production
# 3. Enable caching in production for better performance
# 4. Set appropriate log levels for each environment
# 5. Use environment-specific database URLs
# 6. Enable monitoring and webhooks in production environments
# 7. Configure CORS appropriately for your deployment
# 8. Use strong passwords and secrets in production
# 9. Regularly rotate API keys and secrets
# 10. Monitor your Veeqo account for API usage and rate limits
# 11. Enable webhooks for real-time inventory and order updates
# 12. Use Redis for distributed caching in multi-instance deployments
# 13. Configure proper backup and recovery procedures
# 14. Set up monitoring and alerting for production environments
# 15. Review and update security settings regularly

# =============================================================================
# TROUBLESHOOTING
# =============================================================================

# Common issues and solutions:

# Issue: "Invalid API key" error
# Solution: Check that your VEEQO_API_KEY is correct and active in your Veeqo account

# Issue: Rate limit exceeded
# Solution: Reduce RATE_LIMIT_PER_MINUTE or implement exponential backoff

# Issue: Webhook signature validation fails
# Solution: Ensure WEBHOOK_SECRET matches the secret configured in Veeqo

# Issue: Redis connection errors
# Solution: Check REDIS_URL is correct and Redis server is running

# Issue: Database connection errors  
# Solution: Verify DATABASE_URL and ensure database server is accessible

# Issue: High memory usage
# Solution: Reduce cache size or disable caching for high-volume operations

# Issue: Slow performance
# Solution: Enable caching, optimize database queries, or scale horizontally