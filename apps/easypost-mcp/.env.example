# EasyPost MCP Server Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# CORE CONFIGURATION
# =============================================================================

# Node.js environment (development, production, test)
NODE_ENV=development

# Server port (optional, for health checks and metrics)
PORT=3000

# =============================================================================
# EASYPOST API CONFIGURATION
# =============================================================================

# EasyPost API Key (REQUIRED)
# Get your API key from: https://www.easypost.com/account/api-keys
# Test keys start with: EZAK_test_...
# Production keys start with: EZAK_...
EASYPOST_API_KEY=EZAK_test_your_api_key_here

# EasyPost API timeout in milliseconds (default: 30000)
EASYPOST_TIMEOUT=30000

# Number of retry attempts for failed requests (default: 3)
EASYPOST_RETRY_ATTEMPTS=3

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Enable in-memory caching for API responses (default: false)
ENABLE_CACHE=true

# Redis connection string for distributed caching (optional)
REDIS_URL=redis://localhost:6379

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: error, warn, info, debug (default: info)
LOG_LEVEL=info

# Log file directory (default: ./logs)
LOG_DIR=./logs

# Maximum log file size in MB (default: 10)
LOG_MAX_SIZE=10

# Maximum number of log files to keep (default: 5)
LOG_MAX_FILES=5

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Maximum number of concurrent requests (default: 100)
MAX_CONCURRENT_REQUESTS=100

# Request rate limiting - requests per minute (default: 1000)
RATE_LIMIT_PER_MINUTE=1000

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Enable performance metrics collection (default: false)
ENABLE_METRICS=true

# Metrics collection interval in seconds (default: 60)
METRICS_INTERVAL=60

# Enable detailed request/response logging (default: false)
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Enable API key validation (default: true)
VALIDATE_API_KEY=true

# Enable request signature validation (default: false)
ENABLE_SIGNATURE_VALIDATION=false

# CORS allowed origins (comma-separated, default: *)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Maximum request body size in bytes (default: 10MB)
MAX_REQUEST_BODY_SIZE=10485760

# =============================================================================
# DATABASE CONFIGURATION (Optional)
# =============================================================================

# PostgreSQL database URL (optional, for storing shipment data)
DATABASE_URL=postgresql://easypost:password@localhost:5432/easypost_mcp

# Database connection pool size (default: 10)
DB_POOL_SIZE=10

# Database connection timeout in milliseconds (default: 30000)
DB_TIMEOUT=30000

# =============================================================================
# WEBHOOK CONFIGURATION (Optional)
# =============================================================================

# Webhook endpoint for receiving EasyPost notifications
WEBHOOK_URL=https://your-domain.com/webhooks/easypost

# Webhook secret for signature verification
WEBHOOK_SECRET=your_webhook_secret_here

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Enable development mode features (default: false)
ENABLE_DEV_MODE=true

# Test API key for running tests
EASYPOST_TEST_API_KEY=EZAK_test_fake_key_for_tests

# Mock API responses for testing (default: false)
MOCK_API_RESPONSES=false

# Test database URL
TEST_DATABASE_URL=postgresql://easypost:password@localhost:5432/easypost_mcp_test

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Grafana credentials (for monitoring)
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# PostgreSQL credentials
POSTGRES_PASSWORD=easypost123

# Redis password (optional)
REDIS_PASSWORD=

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Application name for logging and monitoring
APP_NAME=easypost-mcp-server

# Application version
APP_VERSION=1.0.0

# Deployment environment identifier
DEPLOYMENT_ENV=local

# Health check endpoint path (default: /health)
HEALTH_CHECK_PATH=/health

# Metrics endpoint path (default: /metrics)
METRICS_PATH=/metrics

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable experimental features (default: false)
ENABLE_EXPERIMENTAL_FEATURES=false

# Enable debug mode (default: false)
DEBUG_MODE=false

# Enable verbose logging (default: false)
VERBOSE_LOGGING=false

# Enable API response caching (default: true)
ENABLE_RESPONSE_CACHING=true

# Enable request/response compression (default: true)
ENABLE_COMPRESSION=true

# =============================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT ENVIRONMENTS
# =============================================================================

# Development Example:
# NODE_ENV=development
# EASYPOST_API_KEY=EZAK_test_development_key
# LOG_LEVEL=debug
# ENABLE_CACHE=false
# ENABLE_DEV_MODE=true

# Production Example:
# NODE_ENV=production
# EASYPOST_API_KEY=EZAK_production_key
# LOG_LEVEL=info
# ENABLE_CACHE=true
# ENABLE_METRICS=true
# VALIDATE_API_KEY=true

# Testing Example:
# NODE_ENV=test
# EASYPOST_API_KEY=EZAK_test_fake_key
# LOG_LEVEL=error
# MOCK_API_RESPONSES=true
# DATABASE_URL=postgresql://localhost/easypost_test

# =============================================================================
# NOTES
# =============================================================================

# 1. Never commit your actual .env file to version control
# 2. Use different API keys for development, testing, and production
# 3. Enable caching in production for better performance
# 4. Set appropriate log levels for each environment
# 5. Use environment-specific database URLs
# 6. Enable monitoring in production environments
# 7. Configure CORS appropriately for your deployment
# 8. Use strong passwords and secrets in production
# 9. Regularly rotate API keys and secrets
# 10. Monitor your EasyPost account for usage and billing